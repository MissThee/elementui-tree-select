(function(e){function t(t){for(var l,r,s=t[0],o=t[1],c=t[2],u=0,p=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],l=!0,s=1;s<n.length;s++){var o=n[s];0!==i[o]&&(l=!1)}l&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var l={},i={app:0},a=[];function r(t){if(l[t])return l[t].exports;var n=l[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=l,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(n,l,function(t){return e[t]}.bind(null,l));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0a35":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var l=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"panel"},[n("div",{staticClass:"back-board",staticStyle:{padding:"0"}},[n("div",{staticClass:"title",staticStyle:{padding:"10px","border-bottom":"1px solid #ccc"}},[e._v("组件绑定的数据:")]),n("el-scrollbar",{staticStyle:{flex:"1",overflow:"hidden"}},[n("pre",{staticStyle:{"font-family":"Arial,serif"}},[e._v(e._s(e.treeData))])])],1),n("div",{staticClass:"back-board"},[n("div",{staticClass:"title"},[e._v("单选:(可选所有节点)")]),n("tree-select",{attrs:{data:e.treeData,clearable:"",props:{id:"id",name:"name",children:"children"}},model:{value:e.selectValueSingle,callback:function(t){e.selectValueSingle=t},expression:"selectValueSingle"}}),n("div",{staticStyle:{color:"#999"}},[n("span",[e._v("已选id：")]),n("span",{staticStyle:{color:"#666"}},[e._v(e._s(e.selectValueSingle))])]),n("div",[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.selectValueSingle=111}}},[e._v("选中'三级1-1-1'")])],1),n("div",{staticStyle:{"border-bottom":"1px solid #ccc",margin:"60px 0 10px"}}),n("div",{staticClass:"title"},[e._v("单选:(仅选叶子节点，leafOnly)")]),n("tree-select",{attrs:{data:e.treeData,clearable:"","leaf-only":""},model:{value:e.selectValueSingleLeafOnly,callback:function(t){e.selectValueSingleLeafOnly=t},expression:"selectValueSingleLeafOnly"}}),n("div",{staticStyle:{color:"#999"}},[n("span",[e._v("已选id：")]),n("span",{staticStyle:{color:"#666"}},[e._v(e._s(e.selectValueSingleLeafOnly))])]),n("div",[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.selectValueSingleLeafOnly=111}}},[e._v("选中'三级1-1-1'")]),n("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){e.selectValueSingleLeafOnly=1}}},[e._v("选中'三级1'")])],1)],1),n("div",{staticClass:"back-board"},[n("div",{staticClass:"title"},[e._v("多选:（仅选叶子节点，强制leafOnly）")]),n("tree-select",{attrs:{data:e.treeData,clearable:"",multiple:""},model:{value:e.selectValueMulti,callback:function(t){e.selectValueMulti=t},expression:"selectValueMulti"}}),n("div",{staticStyle:{color:"#999",margin:"10px 0 0 0"}},[n("span",[e._v("已选id：")]),n("span",{staticStyle:{color:"#666"}},[e._v(e._s(e.selectValueMulti))])]),n("div",[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.selectValueMulti=[111,112,113]}}},[e._v("选中'三级1-1-1', '三级1-1-2', '三级1-1-3'")])],1),n("div",[n("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){e.selectValueMulti=[1,2]}}},[e._v("选中'一级1', '一级2'")])],1)],1)]),e._m(0)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link"},[n("a",{attrs:{href:"https://github.com/MissThee/elementui-tree-select"}},[e._v("查看源码：https://github.com/MissThee/elementui-tree-select")])])}],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._b({ref:"selectRef",on:{change:e.selectChangeHandler},model:{value:e.selectedIds,callback:function(t){e.selectedIds=t},expression:"selectedIds"}},"el-select",e.$attrs,!1),[n("el-option",{staticClass:"tree-option",attrs:{disabled:"",value:null}},[n("el-tree",e._b({ref:"treeRef",staticClass:"tree",attrs:{data:e.treeData,"node-key":e.treeOptions&&e.treeOptions.nodeKey||e.commonProps.id,props:{id:e.commonProps.id,label:e.commonProps.name,children:e.commonProps.children},"show-checkbox":e.multiple,"default-expand-all":"","highlight-current":!e.multiple,"expand-on-click-node":e.multiple||e.leafOnly},on:{"node-expand":e.nodeExpandHandler,"node-collapse":e.nodeCollapseHandler,"node-click":e.treeClickHandler,check:e.treeCheckHandler}},"el-tree",e.treeOptions,!1))],1),e._l(e.plainData.filter((function(t){return e.multiple?t.isLeaf:!e.leafOnly||t.isLeaf})),(function(t){return n("el-option",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],key:t[e.commonProps.id],attrs:{value:t[e.commonProps.id],label:t[e.commonProps.name]}})}))],2)},s=[],o=(n("4de4"),n("7db0"),n("4160"),n("caad"),n("b0c0"),n("a9e3"),n("b64b"),n("2532"),n("159b"),n("2909")),c=n("ade3"),d={name:"treeSelect",props:{value:{type:[Array,String,Number]},data:{type:Array,default:function(){return[]}},leafOnly:Boolean,treeOptions:{type:Object,default:function(){return{}}}},data:function(){return{treeData:[],plainData:[],selectedIds:[],lastHighlightNodeId:void 0}},watch:{value:{handler:function(){var e=this;this.multiple?(this.selectedIds=JSON.parse(JSON.stringify(this.value)),this.$refs.treeRef.setCheckedKeys(this.value.filter((function(t){var n;return null===(n=e.plainData.find((function(e){return e.id===t})))||void 0===n?void 0:n.isLeaf})))):(this.selectedIds=this.value,this.leafOnly&&!this.plainData.find((function(t){return t[e.commonProps.id]===e.value})).isLeaf?(this.lastHighlightNodeId=void 0,this.$refs.treeRef.setCurrentKey(void 0)):(this.lastHighlightNodeId=this.value||void 0,this.$refs.treeRef.setCurrentKey(this.value||void 0)))},deep:!0,immediate:!0},data:{handler:function(){this.treeData=this.data,this.plainData=this.getPlainTreeData(this.data)},deep:!0,immediate:!0}},computed:{commonProps:function(){var e,t,n,l,i,a;return{id:(null===(e=this.$attrs)||void 0===e||null===(t=e.props)||void 0===t?void 0:t.id)||"id",name:(null===(n=this.$attrs)||void 0===n||null===(l=n.props)||void 0===l?void 0:l.name)||"name",children:(null===(i=this.$attrs)||void 0===i||null===(a=i.props)||void 0===a?void 0:a.children)||"children"}},multiple:function(){return Object.keys(this.$attrs).includes("multiple")&&!1!==this.$attrs.multiple}},methods:{getPlainTreeData:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){var l,i,a=(l={},Object(c["a"])(l,t.commonProps.id,e[t.commonProps.id]),Object(c["a"])(l,t.commonProps.name,e[t.commonProps.name]),l);n.push(a),(null===(i=e[t.commonProps.children])||void 0===i?void 0:i.length)?t.getPlainTreeData(e[t.commonProps.children],n):a.isLeaf=!0})),n},treeClickHandler:function(e,t){if(!this.multiple){if(this.leafOnly&&!t.isLeaf)return void this.$refs.treeRef.setCurrentKey(this.lastHighlightNodeId);this.lastHighlightNodeId=e.id,this.selectedIds=e[this.commonProps.id],this.$emit("input",this.selectedIds)}},treeCheckHandler:function(){this.multiple&&(this.selectedIds=this.$refs.treeRef.getCheckedKeys(!0),this.$emit("input",Object(o["a"])(this.selectedIds)))},selectChangeHandler:function(e){this.multiple?this.$refs.treeRef.setCheckedKeys(e):(this.lastHighlightNodeId=e||void 0,this.$refs.treeRef.setCurrentKey(e||void 0)),this.$emit("input",e)},nodeCollapseHandler:function(){var e=this;setTimeout((function(){e.$refs.selectRef.broadcast("ElSelectDropdown","updatePopper")}),10)},nodeExpandHandler:function(){var e=this;setTimeout((function(){e.$refs.selectRef.broadcast("ElSelectDropdown","updatePopper")}),10)}}},u=d,p=(n("63fa"),n("2877")),f=Object(p["a"])(u,r,s,!1,null,"7db67e56",null),h=f.exports,m={name:"App",components:{TreeSelect:h},data:function(){return{selectValueMulti:[],selectValueSingle:null,selectValueSingleLeafOnly:null,treeData:[{id:1,name:"一级 1",children:[{id:11,name:"二级 1-1",children:[{id:111,name:"三级 1-1-1"},{id:112,name:"三级 1-1-2"},{id:113,name:"三级 1-1-3"},{id:114,name:"三级 1-1-4"},{id:115,name:"三级 1-1-5"}]}]},{id:2,name:"一级 2",children:[{id:21,name:"二级 2-1"},{id:22,name:"二级 2-2"}]},{id:3,name:"一级 3",children:[{id:31,name:"二级 3-1 比较长的选项，比较长的选项，比较长的选项"},{id:32,name:"二级 3-2"},{id:33,name:"二级 3-3"}]},{id:4,name:"一级 4",children:[{id:41,name:"二级 4-1"},{id:42,name:"二级 4-2"},{id:43,name:"二级 4-3"}]}]}}},v=m,y=(n("6648"),Object(p["a"])(v,i,a,!1,null,"0279c559",null)),b=y.exports,g=n("5c96"),O=n.n(g);n("0fae");l["default"].use(O.a),l["default"].config.productionTip=!1,new l["default"]({render:function(e){return e(b)}}).$mount("#app")},"63fa":function(e,t,n){"use strict";var l=n("0a35"),i=n.n(l);i.a},6648:function(e,t,n){"use strict";var l=n("f05a"),i=n.n(l);i.a},f05a:function(e,t,n){}});